!function(){var e,t={737:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(){var e,t,n="lscache-",r="-cacheexpiration",o=6e4,i=w(o),a="",c=!1;function u(){var t="__lscachetest__";if(void 0!==e)return e;try{if(!localStorage)return!1}catch(e){return!1}try{m(t,"__lscachetest__"),y(t),e=!0}catch(t){e=!(!l(t)||!localStorage.length)}return e}function l(e){return e&&("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function s(){return void 0===t&&(t=null!=window.JSON),t}function f(e){return e+r}function d(){return Math.floor((new Date).getTime()/o)}function p(e){return localStorage.getItem(n+a+e)}function m(e,t){localStorage.removeItem(n+a+e),localStorage.setItem(n+a+e,t)}function y(e){localStorage.removeItem(n+a+e)}function v(e){for(var t=new RegExp("^lscache-"+(a.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)")),n=localStorage.length-1;n>=0;--n){var o=localStorage.key(n);(o=(o=o&&o.match(t))&&o[1])&&o.indexOf(r)<0&&e(o,f(o))}}function h(e){var t=f(e);y(e),y(t)}function g(e){var t=f(e),n=p(t);if(n){var r=parseInt(n,10);if(d()>=r)return y(e),y(t),!0}}function b(e,t){c&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}function w(e){return Math.floor(864e13/e)}return{set:function(e,t,n){if(!u())return!1;if(!s())return!1;try{t=JSON.stringify(t)}catch(e){return!1}try{m(e,t)}catch(n){if(!l(n))return b("Could not add item with key '"+e+"'",n),!1;var r,o=[];v((function(e,t){var n=p(t);n=n?parseInt(n,10):i,o.push({key:e,size:(p(e)||"").length,expiration:n})})),o.sort((function(e,t){return t.expiration-e.expiration}));for(var a=(t||"").length;o.length&&a>0;)r=o.pop(),b("Cache is full, removing item with key '"+e+"'"),h(r.key),a-=r.size;try{m(e,t)}catch(t){return b("Could not add item with key '"+e+"', perhaps it's too big?",t),!1}}return n?m(f(e),(d()+n).toString(10)):y(f(e)),!0},get:function(e){if(!u())return null;if(g(e))return null;var t=p(e);if(!t||!s())return t;try{return JSON.parse(t)}catch(e){return t}},remove:function(e){u()&&h(e)},supported:function(){return u()},flush:function(){u()&&v((function(e){h(e)}))},flushExpired:function(){u()&&v((function(e){g(e)}))},setBucket:function(e){a=e},resetBucket:function(){a=""},getExpiryMilliseconds:function(){return o},setExpiryMilliseconds:function(e){i=w(o=e)},enableWarnings:function(e){c=e}}})?n.apply(t,[]):n)||(e.exports=r)},8262:function(e,t,n){"use strict";var r=n(3586);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},3980:function(e,t,n){e.exports=n(8262)()},3586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2808:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(n);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var s,f,d,p,m=e[l].replace(a,"%20"),y=m.indexOf(r);y>=0?(s=m.substr(0,y),f=m.substr(y+1)):(s=m,f=""),d=decodeURIComponent(s),p=decodeURIComponent(f),t(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i}},1368:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[o]))})).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},6642:function(e,t,n){"use strict";t.decode=t.parse=n(2808),t.encode=t.stringify=n(1368)},5309:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=n(8379);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){Object.keys(e).forEach((function(n){var c,u,l,s;c=n,u=e[n],l=void 0===t?"":t,s=Array.from(document.querySelectorAll("".concat(l,'[data-react-component="').concat(c,'"]'))).filter((function(e){var t=e;return!t.dataset.componentInitialized&&(t.dataset.componentInitialized=!0,!0)})),Array.from(s).forEach((function(e){return function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.dataset);(n=function(e){var t=e;return Object.keys(t).forEach((function(e){var n=t[e];if("true"===n)return t[e]=!0,n;if("false"===n)return t[e]=!1,n;if("string"==typeof n&&("{"===n[0]||"["===n[0]))try{var r=JSON.parse(n);"object"===o(r)&&(t[e]=r)}catch(e){return n}return n})),t}(n)).innerHTML=t.innerHTML,n.elementTarget=t,"local"===nbc.env&&console.log("Render react component",e,n,t),(0,i.render)(i.default.createElement(e,n),t)}(u,e)}))}))}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function p(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var y=n(3980),v=n.n(y);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=n(6642),O=/^\d{5}$|^\d{5}-\d{4}$/,_={0:null,1:null,2:null,3:84,4:84,5:79,6:79,7:79,8:90,9:76,10:89,11:76,12:87,13:77,14:74,15:81,16:74,17:84,18:88,19:75,20:70,21:72,22:75,23:78,24:78,25:78,26:67,27:99,28:69,29:103,30:66,31:102,32:65,33:98,34:66,35:84,36:65,37:95,38:95,39:76,40:82,41:74,42:83,43:80,44:86,45:105,46:109,47:101};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){return function(t){var n=window.nbc,r=(n=void 0===n?{}:n).zipCode,o=void 0===r?"10003":r,a=n.param_zipcode,c=void 0===a?"":a;return function(n){var r=b((0,i.useState)({current:{},hourly:[],tenDay:[],alerts:[],header:{current:{},alerts:[]}}),2),a=r[0],u=r[1],l=b((0,i.useState)({isError:!1,errorMsg:""}),2),s=l[0],f=l[1],d=function(e){switch(e){case"26":case"28":return"67";case"32":case"36":return"65";case"19":case"22":return"75";case"43":return"80";case"40":return"82";case"92":return"91";case"101":case"116":return"100";case"33":return"98";case"27":return"99";case"45":return"105";case"42":return"83";case"5":case"6":case"7":return"79";case"114":return"113";case"115":return"97";default:return _[e]}},p=function(t){if("hourly"===e){var n=t.hourly_forecast.map((function(e,t){var n=e.dayOfWk,r=void 0===n?"":n,o=e.time,i=(o=void 0===o?{}:o).local_date,a=void 0===i?"":i,c=e.tempF,u=void 0===c?"":c,l=e.iconCode,s=void 0===l?"":l,f=e.precip,p=void 0===f?"":f;return{hourNum:t,dayOfWeek:r,time:a,temp:u,iconCode:d(s),precip:p}}));u(j(j({},a),{},{hourly:n}))}if("tenDay"===e){var r=t.daily_forecast.slice(0,10).map((function(e){var t=e.dayOfWk,n=void 0===t?"":t,r=e.iconCode,o=void 0===r?"":r,i=e.sky,a=void 0===i?"":i,c=e.hiTempF,u=void 0===c?"":c,l=e.loTempF,s=void 0===l?"":l,f=e.precip,p=void 0===f?"":f,m=e.daypart,y=(m=void 0===m?{}:m).day,v=(y=void 0===y?{}:y).narrative,h=void 0===v?"":v,g=m.night,b=(g=void 0===g?{}:g).narrative,w=void 0===b?"":b;return{day:n,iconCode:d(o),sky:a,hiTemp:u,loTemp:s,precip:p,conditions:h||w}}));u(j(j({},a),{},{tenDay:r}))}if("current"===e){var o=t.city_info,i=t.current_observation,c=t.daily_forecast,l=(c=void 0===c?{}:c)[0],s=(l=void 0===l?{}:l).daypart,f=(s=void 0===s?{}:s).night,p=(f=void 0===f?{}:f).iconCode,m=void 0===p?"":p,y=f.temperature,v=void 0===y?"":y,h=c[1],g=(h=void 0===h?{}:h).hiTempF,b=void 0===g?"":g,w=h.iconCode,O=void 0===w?"":w,_={iconCode:d(i.iconCode),nightIconCode:d(m),temp:i.tempF,tonightTemp:v,hiTemp:i.hiTempF,loTemp:i.loTempF,conditions:i.phraseDay,feelsLike:i.feelsLikeF,precip:i.precip,humidity:i.humidity,wind:i.windSpeed,tomorrowHiTemp:b,tomorrowIconCode:d(O),cityName:o.city,stateAbbr:o.state,zip:o.prefZipCode,lat:o.latitude,long:o.longitude};u(j(j({},a),{},{current:_}))}if("header"===e){var E=t.current_observation,S={iconCode:d(E.iconCode),temp:E.tempF,conditions:E.phraseDay};wp.apiFetch({path:"/nbc/v1/weather-alerts"}).then((function(e){u(j(j({},a),{},{header:{current:S,alerts:e}}))}))}};return(0,i.useEffect)((function(){if(e){var t=localStorage.getItem("zipCode"),n=c||t||o,r=JSON.parse(localStorage.getItem("nbc_weather_coords")||"{}"),i=r.lat,a=void 0===i?"":i,u=r.lng,l=void 0===u?"":u;if(c&&(a="",l=""),O.test(n)||a&&l){var s=n&&"null"!==n?n:[a,l].join(",");"wx_".concat(s,"_").concat(e),function(e,t,n){var r="telemundo"===nbc.brand?"el-tiempo":"weather",o=n.lat,i=void 0===o?"":o,a=n.lng,c=void 0===a?"":a,u={};i&&c?u.geocode="".concat(i,",").concat(c):u.zipCode=e;var l="/".concat(r,"/latest.json/?").concat(w.stringify(u));nbc.preloadedResources&&void 0!==nbc.preloadedResources[l]?p(nbc.preloadedResources[l]):fetch(l).then((function(e){if(!e.ok)throw e;return e})).then((function(e){return e.json().then((function(e){p(e)}))})).catch((function(e){f({isError:!0,errorMsg:"API error: ".concat(e.message)})}))}(n,0,{lat:a,lng:l})}}else f({isError:!0,errorMsg:"No `dataType` supplied to withWeatherData component."})}),[]),i.default.createElement(i.Fragment,null,s.isError&&i.default.createElement("div",null,s.errorMsg),!s.isError&&e&&i.default.createElement(t,h({},n,{data:a[e]})))}}};var C=function(e){d(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=m(t);if(n){var o=m(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return p(this,e)});function o(){return u(this,o),r.apply(this,arguments)}return s(o,[{key:"render",value:function(){var e=this.props.data,t=wp.i18n.__;return i.default.createElement("div",{className:"weather-widget conditions"},i.default.createElement("div",{className:"current"},i.default.createElement("div",{className:"temp"},e.temp,"°",i.default.createElement("div",{className:"widget-weather-icon weather-icon--".concat(e.iconCode)})),i.default.createElement("div",null,e.conditions),i.default.createElement("div",null,e.precip,"% ",t("Precip","nbc"))),i.default.createElement("div",{className:"tonight-tomorrow"},i.default.createElement("div",{className:"tonight"},t("Tonight","nbc"),i.default.createElement("div",{className:"temp"},e.tonightTemp,"°",i.default.createElement("div",{className:"widget-weather-icon weather-icon--".concat(e.nightIconCode)}))),i.default.createElement("div",{className:"tomorrow"},t("Tomorrow","nbc"),i.default.createElement("div",{className:"temp"},e.tomorrowHiTemp,"°",i.default.createElement("div",{className:"widget-weather-icon weather-icon--".concat(e.tomorrowIconCode)})))))}}]),o}(i.PureComponent);r(C,"propTypes",{data:v().shape({iconCode:v().string,temp:v().string,conditions:v().string,feelsLike:v().string,humidity:v().string,wind:v().string,windDir:v().string}).isRequired});var P=S("current")(C);var T=function(e){d(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=m(t);if(n){var o=m(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return p(this,e)});function o(){return u(this,o),r.apply(this,arguments)}return s(o,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.marketName,r=nbc.zipCode!==t.zip&&t.cityName?"".concat(t.cityName,", ").concat(t.stateAbbr):"".concat(n);return i.default.createElement("div",{className:"widget_location"},r)}}]),o}(i.PureComponent);r(T,"defaultProps",{marketName:"",data:{cityName:"",stateAbbr:""}}),r(T,"propTypes",{marketName:v().string,data:v().shape({cityName:v().string,stateAbbr:v().string})});var k,I=S("current")(T),R=n(737),x=n.n(R),N=function e(t){e.defaultProps={settings:{map:{memberid:"",mapid:"",templateid:"",zoom:"",menu_items:""},latitude:"",longitude:"",lang:"en"}},e.propTypes={settings:v().shape({map:v().shape({memberid:v().string,mapid:v().string,templateid:v().string,zoom:v().string,menu_items:v().string}),latitude:v().string,longitude:v().string,lang:v().string})};var n=b((0,i.useState)({latitude:t.settings.latitude,longitude:t.settings.longitude}),2),r=n[0],o=n[1],a=function(e){var t=b(e,1)[0].city_info,n=t.latitude,r=t.longitude;return n&&0!==n.length&&r&&0!==r.length?{lat:n,lng:r}:{lat:"",lng:""}},c="telemundo"===nbc.brand?"&language=es-US":"&language=en-US",u=function(e){e.lat&&e.lng&&o({latitude:e.lat,longitude:e.lng})};return(0,i.useEffect)((function(){void 0!==window.wxWidgets&&window.wxWidgets.parse();var e,t=(window||{}).nbc,n=(t=void 0===t?{}:t).param_zipcode,o=void 0===n?"":n,i=o||localStorage.getItem("zipCode"),l=JSON.parse(localStorage.getItem("nbc_weather_coords")||"{}"),s=l.lat,f=void 0===s?"":s,d=l.lng,p=void 0===d?"":d;if(o&&(f="",p=""),O.test(i)||f&&p){if(f&&p)return void u({lat:f,lng:p});var m="wx_".concat(i,"_current"),y=x().get(m),v={};y&&(v=a(y),u(v)),r.latitude||(e=i,fetch("https://api.weather.com/v3/location/search?query=".concat(e).concat(c,"&format=json&countryCode=US&apiKey=c8abfe32a8c14073abfe32a8c120731d")).then((function(e){if(!e.ok)throw e;return e})).then((function(e){return e.json().then((function(e){return a(e)}))}))).then((function(e){u(e)}))}}),[]),i.default.createElement("div",{className:"weather-module-map"},i.default.createElement("wx-widget",{type:"map",memberId:t.settings.map.memberid,mapId:t.settings.map.mapid,templateId:t.settings.map.templateid,theme:"light-gray",latitude:r.latitude,longitude:r.longitude,zoomLevel:t.settings.map.zoom,menuItems:t.settings.map.menu_items,standalone:"true",fullscreen:"false",language:t.settings.lang,header:""}))};k=function(){c({IframeConditions:P,IframeLocation:I,IframeRadar:N})},"complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",k):k()}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(s=0;s<e.length;s++){n=e[s][0],o=e[s][1],i=e[s][2];for(var c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){e.splice(s--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={1706:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],c=n[1],u=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var s=u(r)}for(t&&t(n);l<a.length;l++)i=a[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},n=self.webpackChunknbc_station=self.webpackChunknbc_station||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[8592],(function(){return r(5309)}));o=r.O(o)}();
//# sourceMappingURL=weatherConditions.dc080aee8a86318f0455.bundle.min.js.map